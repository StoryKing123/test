!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var n,r=t();for(n in r)("object"==typeof exports?exports:e)[n]=r[n]}}(window,(function(){return t={132:function(e,t){function n(e,t,n,r,o,a,i){return e=c(e,c(c(u(t,n,r),o),i)),c(s(e,a),t)}function r(e,t,n,r,o,a,i){return e=c(e,c(c(d(t,n,r),o),i)),c(s(e,a),t)}function o(e,t,n,r,o,a,i){return e=c(e,c(c(l(t,n,r),o),i)),c(s(e,a),t)}function a(e,t,n,r,o,a,i){return e=c(e,c(c(f(t,n,r),o),i)),c(s(e,a),t)}function i(e){for(var t="",n="",r=0;r<=3;r++)t+=(n="0"+(e>>>8*r&255).toString(16)).substr(n.length-2,2);return t}var s=function(e,t){return e<<t|e>>>32-t},c=function(e,t){var n=2147483648&e,r=2147483648&t,o=1073741824&e,a=1073741824&t;t=(1073741823&e)+(1073741823&t);return o&a?2147483648^t^n^r:o|a?1073741824&t?3221225472^t^n^r:1073741824^t^n^r:t^n^r},u=function(e,t,n){return e&t|~e&n},d=function(e,t,n){return e&n|t&~n},l=function(e,t,n){return e^t^n},f=function(e,t,n){return t^(e|~n)};e.exports.md5=function(e){Array();for(var t,s,u,d,l=function(e){for(var t,n=e.length,r=16*(1+((r=n+8)-r%64)/64),o=Array(r-1),a=0,i=0;i<n;)a=i%4*8,o[t=(i-i%4)/4]=o[t]|e.charCodeAt(i)<<a,i++;return o[t=(i-i%4)/4]=o[t]|128<<(a=i%4*8),o[r-2]=n<<3,o[r-1]=n>>>29,o}(e=function(e){e=e.replace(/\x0d\x0a/g,"\n");for(var t="",n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t+=String.fromCharCode(r):(127<r&&r<2048?t+=String.fromCharCode(r>>6|192):(t+=String.fromCharCode(r>>12|224),t+=String.fromCharCode(r>>6&63|128)),t+=String.fromCharCode(63&r|128))}return t}(e)),f=1732584193,g=4023233417,_=2562383102,m=271733878,p=0;p<l.length;p+=16)f=n(t=f,s=g,u=_,d=m,l[p+0],7,3614090360),m=n(m,f,g,_,l[p+1],12,3905402710),_=n(_,m,f,g,l[p+2],17,606105819),g=n(g,_,m,f,l[p+3],22,3250441966),f=n(f,g,_,m,l[p+4],7,4118548399),m=n(m,f,g,_,l[p+5],12,1200080426),_=n(_,m,f,g,l[p+6],17,2821735955),g=n(g,_,m,f,l[p+7],22,4249261313),f=n(f,g,_,m,l[p+8],7,1770035416),m=n(m,f,g,_,l[p+9],12,2336552879),_=n(_,m,f,g,l[p+10],17,4294925233),g=n(g,_,m,f,l[p+11],22,2304563134),f=n(f,g,_,m,l[p+12],7,1804603682),m=n(m,f,g,_,l[p+13],12,4254626195),_=n(_,m,f,g,l[p+14],17,2792965006),f=r(f,g=n(g,_,m,f,l[p+15],22,1236535329),_,m,l[p+1],5,4129170786),m=r(m,f,g,_,l[p+6],9,3225465664),_=r(_,m,f,g,l[p+11],14,643717713),g=r(g,_,m,f,l[p+0],20,3921069994),f=r(f,g,_,m,l[p+5],5,3593408605),m=r(m,f,g,_,l[p+10],9,38016083),_=r(_,m,f,g,l[p+15],14,3634488961),g=r(g,_,m,f,l[p+4],20,3889429448),f=r(f,g,_,m,l[p+9],5,568446438),m=r(m,f,g,_,l[p+14],9,3275163606),_=r(_,m,f,g,l[p+3],14,4107603335),g=r(g,_,m,f,l[p+8],20,1163531501),f=r(f,g,_,m,l[p+13],5,2850285829),m=r(m,f,g,_,l[p+2],9,4243563512),_=r(_,m,f,g,l[p+7],14,1735328473),f=o(f,g=r(g,_,m,f,l[p+12],20,2368359562),_,m,l[p+5],4,4294588738),m=o(m,f,g,_,l[p+8],11,2272392833),_=o(_,m,f,g,l[p+11],16,1839030562),g=o(g,_,m,f,l[p+14],23,4259657740),f=o(f,g,_,m,l[p+1],4,2763975236),m=o(m,f,g,_,l[p+4],11,1272893353),_=o(_,m,f,g,l[p+7],16,4139469664),g=o(g,_,m,f,l[p+10],23,3200236656),f=o(f,g,_,m,l[p+13],4,681279174),m=o(m,f,g,_,l[p+0],11,3936430074),_=o(_,m,f,g,l[p+3],16,3572445317),g=o(g,_,m,f,l[p+6],23,76029189),f=o(f,g,_,m,l[p+9],4,3654602809),m=o(m,f,g,_,l[p+12],11,3873151461),_=o(_,m,f,g,l[p+15],16,530742520),f=a(f,g=o(g,_,m,f,l[p+2],23,3299628645),_,m,l[p+0],6,4096336452),m=a(m,f,g,_,l[p+7],10,1126891415),_=a(_,m,f,g,l[p+14],15,2878612391),g=a(g,_,m,f,l[p+5],21,4237533241),f=a(f,g,_,m,l[p+12],6,1700485571),m=a(m,f,g,_,l[p+3],10,2399980690),_=a(_,m,f,g,l[p+10],15,4293915773),g=a(g,_,m,f,l[p+1],21,2240044497),f=a(f,g,_,m,l[p+8],6,1873313359),m=a(m,f,g,_,l[p+15],10,4264355552),_=a(_,m,f,g,l[p+6],15,2734768916),g=a(g,_,m,f,l[p+13],21,1309151649),f=a(f,g,_,m,l[p+4],6,4149444226),m=a(m,f,g,_,l[p+11],10,3174756917),_=a(_,m,f,g,l[p+2],15,718787259),g=a(g,_,m,f,l[p+9],21,3951481745),f=c(f,t),g=c(g,s),_=c(_,u),m=c(m,d);return(i(f)+i(g)+i(_)+i(m)).toLowerCase()}},280:function(e,t,n){"use strict";n.r(t);var r=n(132);function o(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)),r}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){var r,o;r=e,t=n[o=t],o in r?Object.defineProperty(r,o,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[o]=t})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.domain="https://zeus.aidalan.com",this.game_key="d992f6ba1e4861278628b50ae8ae0b67",this.order_api="/v1/payment/order",this.channel_order_api="/v1/payment/channelOrder",this.isQQ="undefined"!=typeof qq&&"function"==typeof qq.showToast}var t,n;return t=e,(n=[{key:"miniInit",value:function(e){var t={game_name:e.game_name,game_ver:e.game_ver,game_id:e.game_id,channel_id:e.channel_id,game_channel_id:e.game_channel_id};this.setStorage("game_config",t),this.isQQ||((e=document.createElement("script")).src="https://cdn.11h5.com/static/js/sdk.min.js",(t=document.getElementsByTagName("script")[0]).parentNode.insertBefore(e,t))}},{key:"getPubData",value:function(){var e=this.getStorage("game_config"),t="";this.getStorage("device_id")?t=this.getStorage("device_id"):(t=Object(r.md5)((new Date).getTime()+Math.random().toString().substr(3,6)),this.setStorage("device_id",t));var n,o,a,i,s,c,u,d,l="",f="1.1.0",g="h5",_="",m="",p="",h="",y=new Date;return this.isQQ?(n=(c=qq.getSystemInfoSync()).screenWidth,o=c.screenHeight,a=c.brand+" "+c.model,l=(s=c.system.split(" "))[1],f=c.version,g=s[0],h=c.model,qq.getNetworkType({success:function(e){_=e.networkType}}),qq.getBatteryInfo({success:function(e){m=parseInt(e.level)}}),qq.getScreenBrightness({success:function(e){p=parseInt(e.value)}})):(n=document.body.clientWidth||document.documentElement.clientWidth,o=document.body.clientHeight||document.documentElement.clientHeight,i=navigator.userAgent,a=navigator.platform,l=navigator.platform,-1<i.indexOf("Android")||-1<i.indexOf("Linux")?(-1!==(c=function(e){for(var t=0;t<e.length;t++)if(-1!==e[t].indexOf("Build/"))return t;return-1}(s=i.split(";")))&&(a=s[c].substring(0,s[c].indexOf("Build/"))),l=(i.match(/android [\d._]+/gi)+"").replace(/[^0-9|_.]/gi,"").replace(/_/gi,".")):i.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)&&(l=(i.match(/os [\d._]+/gi)+"").replace(/[^0-9|_.]/gi,"").replace(/_/gi,".")),_=function(){try{return navigator.connection.type||"unknow"}catch(e){return"unknow"}}()),{game:{game_name:e.game_name,game_ver:e.game_ver,game_id:e.game_id},device:{screen_height:parseInt(n),screen_width:parseInt(o),device_id:t,ios_idfa:"",android_imei:"",android_adv_id:"",android_id:"",device_name:a,os_ver:l,sdk_ver:f,package_name:"com",os_type:g,net_type:_,user_agent:"",imsi:"",wifi_name:"",bluetooth:"",model:h,battery_level:m,screen_brightness:p,cpu_type:"",inner_ip:"",is_root:"",orientation_sensor:"",oaid:"",gps:"",fingerprint:""},channel_platform:{ad_id:""},other:{client_time_zone:"GMT"+(u=y.getTimezoneOffset()/60,d=(Math.abs(u)<10?"0":"").concat(Math.abs(u),":00"),(u<0?"+ ":"- ").concat(d)),client_ts:""+Math.round(y.getTime()/1e3)},agent:{channel_id:e.channel_id,game_channel_id:e.game_channel_id},verify:{}}}},{key:"miniLogin",value:function(e){var t;this.isQQ?qq.login({success:function(t){var n;t.code?(n={ret:1,data:{code:t.code}},e&&e(n)):(e&&e({ret:0,data:t}),console.log("微信登录失败：",t))},fail:function(t){e&&e({ret:0,data:t}),console.log("微信登录失败：",t)}}):(t={ret:1,data:{code:(t=this.getUrlJson()).token||"",fuid:t.fuid||"",focus:t.focus||"",chid:t.chid||""}},e&&e(t))}},{key:"miniLoginRsp",value:function(e){var t={};t.access_token=e.access_token,t.user_id=e.user_id,this.setStorage("login_rsp",t)}},{key:"miniBuy",value:function(e,t,n){var r=this;r.isQQ?qq.checkSession({success:function(){r.sendOrder(e,t)},fail:function(){t&&t(errInfo),n()}}):r.sendOrder(e,t)}},{key:"sendOrder",value:function(e,t){var n=this,o=n.getPubData(),a=n.getStorage("login_rsp");n.getStorage("game_config"),a={user_id:a.user_id||"",game_role_id:e.game_role_id,game_role_name:e.game_role_name,game_role_level:e.game_role_level,server_id:e.server_id,server_name:e.server_name,zone_id:e.zone_id,zone_name:e.zone_name,goods_id:e.goods_id,goods_name:e.goods_name,trade_sn:e.trade_sn,amount:e.amount,extra_data:e.extra_data,callback_url:e.callback_url};o.verify=a,a=n.createSign(o)+n.game_key,o.sign=Object(r.md5)(a);var i=n.domain+n.order_api;n.request({method:"POST",url:i,data:o,success:function(r){var o=r.ret,a=r.content;1===o?n.isQQ?n.sendChannelOrder(a,e,t):n.miniPay(a,e,t):t&&t({ret:0,data:r,post_url:i})},fail:function(e){t&&t({ret:0,data:e,post_url:i})}})}},{key:"sendChannelOrder",value:function(e,t,n){var o=this,a=o.getPubData(),i=o.getStorage("login_rsp");o.getStorage("game_config"),i={user_id:i.user_id||"",game_role_id:t.game_role_id,game_role_name:t.game_role_name,game_role_level:t.game_role_level,server_id:t.server_id,server_name:t.server_name,goods_id:t.goods_id,goods_name:t.goods_name,amount:t.amount,order_sn:e.order_sn,access_token:i.access_token||""};a.verify=i,i=o.createSign(a)+o.game_key,a.sign=Object(r.md5)(i);var s=o.domain+o.channel_order_api;o.request({method:"POST",url:s,data:a,success:function(e){var r=e.ret,a=e.content;1===r?o.miniPay(a,t,n):n&&n({ret:0,data:e,post_url:s})},fail:function(e){n&&n({ret:0,data:e,post_url:s})}})}},{key:"miniPay",value:function(e,t,n){var r;this.isQQ?(r={prepayId:e.channel_trade_sn,starCurrency:t.amount/10,setEnv:0,success:function(e){n&&n({ret:1,data:{code:e}})},fail:function(e){n&&n({ret:0,data:e})}},console.log(r),qq.requestMidasPayment(r)):sdk.pay({pid:t.goods_id,txid:e.order_sn,product_count:t.product_count||""})}},{key:"miniShare",value:function(e,t){this.isQQ?qq.showShareMenu({showShareItems:e||["qq","qzone","wechatFriends","wechatMoment"],success:function(e){t&&t({ret:1,data:e})},fail:function(e){t&&t({ret:0,data:e})}}):(sdk.showShare(),e.desc&&sdk.shareDesc(e.desc),e.title&&sdk.shareTitle(e.title),e.icon&&sdk.shareIcon(e.icon))}},{key:"miniFoucus",value:function(){this.isQQ||sdk.showFocus()}},{key:"createSign",value:function(e){var t,n="";return Object.keys(e).sort().forEach((function(r){t="object"===i(e[r])?JSON.stringify(e[r]):e[r],n+=r+"="+t+"&"})),n=n.substring(0,n.length-1)}},{key:"setStorage",value:function(e,t){this.isQQ?qq.setStorageSync(e,t):localStorage.setItem(e,JSON.stringify(t))}},{key:"getStorage",value:function(e){return this.isQQ?qq.getStorageSync(e):localStorage.getItem(e)?JSON.parse(localStorage.getItem(e)):void 0}},{key:"getUrlJson",value:function(){var e=window.location.search.substring(1).split("&"),t={};return e.forEach((function(e){e=e.split("="),t[e[0]]=e[1]})),t}},{key:"request",value:function(e){var t=(s=a({method:"POST",header:{"Content-Type":"application/json"}},e)).url,n=s.method,r=(e=s.data,s.header),o=s.success,i=s.fail,s=s.async;if(this.isQQ)qq.request({method:"POST",url:t,data:e,success:function(e){o&&o(e.data)},fail:function(e){i&&i(e)}});else{var c,u=new XMLHttpRequest;for(c in u.onreadystatechange=function(){4===u.readyState&&(200===u.status?u.responseText&&o&&o(JSON.parse(u.responseText)):i&&i(u.status))},u.open(n,t,s),r)u.setRequestHeader(c,r[c]);e?u.send(JSON.stringify(e)):u.send(null)}}}])&&s(t.prototype,n),e}()),window._mnSdk=n,t.default=n}},n={},e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:r})},e.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var o in t)e.d(r,o,function(e){return t[e]}.bind(null,o));return r},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},e.p="",e(e.s=280);function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var t,n}));